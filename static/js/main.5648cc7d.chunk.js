(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{37:function(e,t,a){e.exports=a(52)},42:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(6),c=a.n(o),l=(a(42),a(13)),i=a(14),s=a(16),u=a(15),d=a(8),E=(a(48),a(18)),p=a(29),m=a(3),v=a(36),f=[{value:"blue",label:"Blue",color:"#3B86FF"},{value:"ocean",label:"Ocean",color:"#05b4d9"},{value:"purple",label:"Purple",color:"#644faa"},{value:"red",label:"Red",color:"#e75339"},{value:"orange",label:"Orange",color:"#ff8a0d"},{value:"yellow",label:"Yellow",color:"#ffc400"},{value:"green",label:"Green",color:"#36B37E"},{value:"forest",label:"Forest",color:"#00875A"},{value:"slate",label:"Slate",color:"#2f4c58"},{value:"silver",label:"Silver",color:"#757a73"}];function h(){return{type:"SET_TO_LOCAL_STORAGE"}}var O=a(25),b=a.n(O);function y(e){return b()(e).format("YYYY-MM-DD|HH:mm").split("|")}var _=function(e,t){switch(e){case"SHOW_EVENT_FORM":return{id:t.id,start:t.date,time:t.date,title:"",notes:"",color:""};case"SHOW_EVENT_FORM_WITH_VALUE":return{id:+t.id,title:t.title,start:t.start,time:t.start,notes:t.extendedProps.notes,color:t.backgroundColor,colorData:t.extendedProps.colorData};case"CREATE_EVENT":case"EDIT_EVENT":return{id:t.id,title:t.title,start:(a="".concat(t.startDate,"|").concat(t.startTime),b()(a,"YYYY-MM-DD|HH:mm").toDate()),time:t.time,notes:t.notes,color:t.color.color,colorData:t.colorData};default:return{id:t.inputsValue.id,title:t.inputsValue.title||"",startDate:y(t.inputsValue.start||t.currentDate)[0],startTime:y(t.inputsValue.time)[1],notes:t.inputsValue.notes||"",color:t.inputsValue.colorData||f[0],colorData:t.inputsValue.colorData||f[0]}}var a},T=(a(50),m.z.Option),F=function(e){return r.a.createElement(T,e,r.a.createElement("i",{className:"fa fa-square","aria-hidden":"true",style:{color:e.data.color,margin:"0 4px 0 0"}}),e.data.label)},g=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).escCloseFunction=function(e){27===e.keyCode&&n.props.closeForm()},n.handleClickOutside=function(){n.props.closeForm()},n.handleChange=function(e){e&&e.target&&e.target.name&&n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleChangeDateTime=function(e,t){e&&e.target&&n.setState(Object(E.a)({},t,e.target.value))},n.handleChangeSelect=function(e){n.setState({color:e,colorData:e})},n.handleFormSubmit=function(e){e.preventDefault()},n.editEvent=function(){n.props.editEvent(n.state),n.props.closeForm()},n.state=_("DEFAULT",n.props),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escCloseFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escCloseFunction,!1)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-wrapper",style:{top:this.props.coordinates.top,left:this.props.coordinates.left}},r.a.createElement("button",{className:"btn-close",type:"button",onClick:this.props.closeForm},r.a.createElement("i",{className:"fa fa-times-circle-o","aria-hidden":"true"})),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"hidden",name:"id",value:this.state.id}),r.a.createElement("input",{type:"text",name:"title",maxLength:30,placeholder:"event name",value:this.state.title,onChange:this.handleChange}),r.a.createElement("div",{className:"input-wrap"},r.a.createElement("label",{htmlFor:"date"},r.a.createElement("i",{className:"fa fa-calendar-o","aria-hidden":"true"})),r.a.createElement("input",{id:"date",type:"date",name:"date",placeholder:"event date",value:this.state.startDate,onChange:function(t){return e.handleChangeDateTime(t,"startDate")}})),r.a.createElement("div",{className:"input-wrap"},r.a.createElement("label",{htmlFor:"time"},r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})),r.a.createElement("input",{id:"time",type:"time",name:"time",placeholder:"event time",value:this.state.startTime,onChange:function(t){return e.handleChangeDateTime(t,"startTime")}})),r.a.createElement(v.a,{classNamePrefix:"custom-select",defaultValue:this.state.color,options:f,onChange:this.handleChangeSelect,components:{Option:F}}),r.a.createElement("input",{type:"text",name:"notes",placeholder:"notes",value:this.state.notes,onChange:this.handleChange}),this.props.isEdit?r.a.createElement("div",{className:"btn-wrap"},r.a.createElement("button",{className:"btn-cancel",onClick:function(){return e.props.removeEvent(e.props.inputsValue.id)}},"Discard"),r.a.createElement("button",{type:"button",onClick:this.editEvent},"Edit")):r.a.createElement("div",{className:"btn-wrap"},r.a.createElement("button",{className:"btn-cancel",onClick:this.props.closeForm},"Cancel"),r.a.createElement("button",{type:"button",onClick:function(){return e.props.createEvent(e.state)}},"Save"))))}}]),a}(r.a.Component);var C=Object(d.b)((function(e){return{currentDate:e.calendar.currentDate,inputsValue:e.calendar.inputsValue,isEdit:e.calendar.isEdit,coordinates:e.calendar.coordinates}}),(function(e){return{createEvent:function(t){return e(function(e){return function(t){t({type:"CREATE_EVENT",payload:e}),t(h())}}(t))},editEvent:function(t){return e(function(e){return function(t){t({type:"EDIT_EVENT",payload:e}),t(h())}}(t))},removeEvent:function(t){return e(function(e){return function(t){t({type:"REMOVE_EVENT",payload:e}),t(h())}}(t))},closeForm:function(){return e({type:"CLOSE_FORM"})}}}))(Object(p.a)(g)),D=a(10),j=a(31),V=a(17),N=a(32),w=a(33),S=a(34),R=(a(51),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).calendarComponentRef=r.a.createRef(),e.state={calendarWeekends:!0},e.createEventForm=function(t){e.props.closeForm(),e.props.openEventForm(t.date,e.getCoordinates(t,!1))},e.editEventForm=function(t){e.props.openEventFormWithValues(_("SHOW_EVENT_FORM_WITH_VALUE",t.event),e.getCoordinates(t,!0))},e.getCoordinates=function(t,a){var n=t&&t.jsEvent&&t.jsEvent.toElement;if(t){var r=e.getDomParentElement(n,a?6:5),o=n.getBoundingClientRect(),c=r.getBoundingClientRect();return{top:c.top+Math.round(c.height/2)+(a?20:0),left:o.left-15}}},e.droppedEvent=function(t){e.props.droppedEvent(+t.event.id,t.event.start)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getEventsFromLocalStorage()}},{key:"getDomParentElement",value:function(e,t){for(var a=e,n=0;n<t;){if(!a.parentElement)return a;a=a.parentElement,n++}return a}},{key:"render",value:function(){var e=[V.d,N.a,S.a,w.a];return r.a.createElement("div",{className:"calendar-wrapper"},r.a.createElement(j.a,{defaultView:"dayGridMonth",header:{left:"today,prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},buttonText:{today:"Today",month:"Month",week:"Week",day:"Day",list:"Agenda",prev:"Back",next:"Next"},plugins:e,ref:this.calendarComponentRef,weekends:this.state.calendarWeekends,events:Object(D.a)(this.props.calendarEvents),dateClick:this.createEventForm,eventClick:this.editEventForm,firstDay:1,selectable:!0,editable:!0,droppable:!0,eventDrop:this.droppedEvent,eventReceive:this.eventReceive,nowIndicator:!0}))}}]),a}(r.a.Component));var k=Object(d.b)((function(e){return{calendarEvents:e.calendar.calendarEvents,showEventForm:e.calendar.showEventForm}}),(function(e){return{openEventForm:function(t,a){return e(function(e,t){return{type:"SHOW_EVENT_FORM",payload:{coordinates:t,currentDate:e}}}(t,a))},openEventFormWithValues:function(t,a){return e(function(e,t){return{type:"SHOW_EVENT_FORM_WITH_VALUE",payload:{values:e,coordinates:t}}}(t,a))},closeForm:function(){return e({type:"CLOSE_FORM"})},droppedEvent:function(t,a){return e(function(e,t){return function(a){a({type:"DROPPED_EVENT",payload:{id:e,date:t}}),a(h())}}(t,a))},getEventsFromLocalStorage:function(){return e({type:"GET_EVENT_FROM_LOCAL_STORAGE"})}}}))(R),M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(k,null),this.props.showEventForm?r.a.createElement(C,null):null)}}]),a}(r.a.Component);var L=Object(d.b)((function(e){return{showEventForm:e.calendar.showEventForm}}))(M);var A=function(){return r.a.createElement(L,null)},W=a(9),H=a(5),I={showEventForm:!1,calendarEvents:[],coordinates:{},inputsValue:{},isEdit:!1,currentDate:""};var x=Object(W.c)({calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_EVENT_FORM":var a=t.payload.currentDate||new Date;return Object(H.a)(Object(H.a)({},e),{},{showEventForm:!0,coordinates:t.payload.coordinates,inputsValue:_("SHOW_EVENT_FORM",{id:e.calendarEvents.length,date:a}),isEdit:!1});case"SHOW_EVENT_FORM_WITH_VALUE":return Object(H.a)(Object(H.a)({},e),{},{showEventForm:!0,inputsValue:t.payload.values,coordinates:t.payload.coordinates,isEdit:!0});case"CREATE_EVENT":var n=Object(D.a)(e.calendarEvents);return n.push(_("CREATE_EVENT",Object(H.a)(Object(H.a)({},t.payload),{},{id:n.length}))),Object(H.a)(Object(H.a)({},e),{},{showEventForm:!1,calendarEvents:n});case"EDIT_EVENT":return t.payload&&e.calendarEvents[t.payload.id]&&(e.calendarEvents[t.payload.id]=_("EDIT_EVENT",t.payload)),Object(H.a)(Object(H.a)({},e),{},{calendarEvents:Object(D.a)(e.calendarEvents)});case"REMOVE_EVENT":return Object(H.a)(Object(H.a)({},e),{},{calendarEvents:Object(D.a)(e.calendarEvents).filter((function(e,a){return a!==t.payload})),showEventForm:!1});case"CLOSE_FORM":return Object(H.a)(Object(H.a)({},e),{},{showEventForm:!1});case"DROPPED_EVENT":return t.payload&&e.calendarEvents[t.payload.id]&&(e.calendarEvents[t.payload.id].start=t.payload.date),Object(H.a)(Object(H.a)({},e),{},{calendarEvents:Object(D.a)(e.calendarEvents)});case"SET_TO_LOCAL_STORAGE":return window.localStorage.setItem("calendarEvents",JSON.stringify(e.calendarEvents)),Object(H.a)({},e);case"GET_EVENT_FROM_LOCAL_STORAGE":return Object(H.a)(Object(H.a)({},e),{},{calendarEvents:JSON.parse(window.localStorage.getItem("calendarEvents"))||[]});default:return e}}}),P=a(35),G="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):W.d,Y=Object(W.e)(x,G(Object(W.a)((function(e){return function(e){return function(t){return e(t)}}}),P.a))),U=r.a.createElement(d.a,{store:Y},r.a.createElement(A,null));c.a.render(U,document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.5648cc7d.chunk.js.map